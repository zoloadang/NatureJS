<!DOCTYPE HTML>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>declare unit test</title>
	<link rel="stylesheet" href="../jasmine-1.0.2/jasmine.css" />
</head>
<body>
	
	<script src="../../nature/require.js"></script>
	<script src="../jasmine-1.0.2/jasmine.js"></script>
	<script src="../jasmine-1.0.2/jasmine-html.js"></script>

	<script>

		require(['../../nature/class/declare.js'], function(declare) {

			describe("类的声明, 继承, 模拟多继承(聚合).", function() {

            it("Inherited from one Class.", function() {
                var A = function() {};
                var B = declare(A);
                var c = new B;
                expect(c instanceof A).toBe(true);
                expect(c.isInstanceOf(A)).toBe(true);
                
            });

            it("Inherited from multi Classes.", function() {
                var A = declare(null);
                var B = declare(A);
                var C = declare([B, A]);
                var D = declare('haha', [C, B, A]);
                var c = new C;
                var d = new D;
                expect(c instanceof A).toBe(true);
                expect(c instanceof B).toBe(true);
                expect(c instanceof C).toBe(true);
                expect(c.isInstanceOf(A)).toBe(true);
                expect(c.isInstanceOf(B)).toBe(true);
                expect(c.isInstanceOf(C)).toBe(true);
                expect(d instanceof A).toBe(true);
                expect(d instanceof B).toBe(true);
                expect(d instanceof C).toBe(true);
                expect(d instanceof D).toBe(true);
                expect(d.isInstanceOf(A)).toBe(true);
                expect(d.isInstanceOf(B)).toBe(true);
                expect(d.isInstanceOf(C)).toBe(true);
                expect(d.isInstanceOf(D)).toBe(true);
                expect(d.declaredClass).toBe('haha');
            });

        });

			jasmine.getEnv().addReporter(new jasmine.TrivialReporter());
			jasmine.getEnv().execute();

		});

	</script>

</body>
</html>
